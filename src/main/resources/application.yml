server:
  port: 9090
  servlet:
    context-path: /gateway
    session:
      cookie:
        http-only: true
        secure: true
        same-site: lax

spring:
  application:
    name: gateway
  security:
    oauth2:
      client:
        registration:
          azure:
            client-id: "${AZURE_CLIENT_ID:your-client-id}"
            client-secret: "${AZURE_CLIENT_SECRET:your-client-secret}"
            scope: openid,profile,email
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
        provider:
          azure:
            issuer-uri: "https://login.microsoftonline.com/${AZURE_TENANT_ID:your-tenant-id}/v2.0"

gateway:
  allowed-redirect-domains:
    - app.example.com
    - localhost
  exchange-token:
    ttl-minutes: 2
  swagger:
    enabled: true
    allowed-users:
      - admin@numaansystems.com
      - developer@numaansystems.com

legacy:
  app:
    url: "${LEGACY_APP_URL:http://localhost:8080}"

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true

logging:
  level:
    com.numaansystems.gateway: DEBUG
    com.numaansystems.gateway.controller.LegacyAppProxyController: INFO
    org.springframework.security: INFO
    org.springframework.security.oauth2: DEBUG
